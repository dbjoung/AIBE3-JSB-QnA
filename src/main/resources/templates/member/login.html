<!DOCTYPE html>
<html layout:decorate="~{/common/layout/layout}">
<head>
    <title>로그인</title>
</head>

<div sec:authorize="isAnonymous()" layout:fragment="content"
     class="max-w-md mx-auto mt-10 p-6 bg-white rounded-2xl shadow-lg">
    <form th:action="@{/user/auth/login}" th:object="${loginForm}" method="POST" class="space-y-4">
        <!-- CSRF -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <!-- <div th:replace="~{/common/fragment/errors :: errorsFragment}"></div> -->

        <div th:if="${param.error}"
             class="rounded-md bg-red-50 border border-red-200 text-red-700 text-sm px-3 py-2">
            <p>아이디 또는 비밀번호가 올바르지 않습니다.</p>
        </div>

        <div>
            <label for="username" class="block text-sm text-gray-700 mb-1">아이디</label>
            <input type="text" th:field="*{username}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2
                    focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div>
            <label for="password" class="block text-sm text-gray-700 mb-1">패스워드</label>
            <input type="password" th:field="*{password}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2
                    focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div class="pt-2">
            <input type="submit" value="로그인"
                   class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium
                    py-2.5 rounded-lg shadow-sm cursor-pointer" />
        </div>
    </form>
</div>

<span sec:authentication="principal.username"
      class="block max-w-md mx-auto mt-4 px-4 py-2 rounded-xl bg-blue-50
             border border-blue-200 text-blue-700 text-sm text-center"></span>님 로그인 성공
</html>
