
<form th:action="@{/question/search}" method="GET" th:object="${form}">
    <select th:field="*{kwType}">
        <option value="">-- 검색 대상 --</option>
        <option value="title">제목</option>
        <option value="content">내용</option>
    </select>
    <input type="text" th:field="*{keyword}" placeholder="검색어를 입력하세요"/>
    <button type="submit">검색</button>
</form>

<ul>
    <li th:each="q : ${page.content}">
        <a th:href="@{|/question/list/${q.id}|}" th:text="${q.title}">제목</a>
        <span th:text="${q.member != null ? q.member.username : '-'}">작성자</span>
    </li>

    <li th:if="${#lists.isEmpty(page.content)}">검색 결과가 없습니다.</li>
</ul>

<nav th:if="${page.totalPages > 0}">
    <a th:if="${page.hasPrevious()}"
       th:href="@{/question/search(
        page=${page.number - 1},
        size=${page.size},
        kwType=${form.kwType},
        keyword=${form.keyword}
     )}">이전</a>

    <span th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}" style="margin:0 4px;">
    <strong th:if="${i == page.number}" th:text="${i + 1}">1</strong>
    <a th:if="${i != page.number}"
       th:href="@{/question/search(
          page=${i},
          size=${page.size},
          kwType=${form.kwType},
          keyword=${form.keyword}
       )}"
       th:text="${i + 1}">1</a>
  </span>

    <a th:if="${page.hasNext()}"
       th:href="@{/question/search(
        page=${page.number + 1},
        size=${page.size},
        kwType=${form.kwType},
        keyword=${form.keyword}
     )}">다음</a>
</nav>